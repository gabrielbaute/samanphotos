{% extends "base.html" %}

{% block title %}Editar Perfil{% endblock %}

{% block content %}
<section class="section">
    <div class="container">
        <h1 class="title">Editar Perfil</h1>
        <div class="tabs is-centered">
            <ul>
                <li class="is-active" id="tab-security"><a>Información de Seguridad</a></li>
                <li id="tab-edit"><a>Editar Perfil</a></li>
            </ul>
        </div>
        <div id="security-section">
            <table class="table is-striped is-fullwidth is-hoverable">
                <thead>
                    <tr>
                        <th>Atributo</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Último inicio de sesión</td>
                        <td>{{ security_info.last_login_at }}</td>
                    </tr>
                    <tr>
                        <td>Inicio de sesión actual</td>
                        <td>{{ security_info.current_login_at }}</td>
                    </tr>
                    <tr>
                        <td>Última IP de inicio de sesión</td>
                        <td>{{ security_info.last_login_ip }}</td>
                    </tr>
                    <tr>
                        <td>IP de inicio de sesión actual</td>
                        <td>{{ security_info.current_login_ip }}</td>
                    </tr>
                    <tr>
                        <td>Recuento de inicios de sesión</td>
                        <td>{{ security_info.login_count }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="edit-section" style="display: none;">
            <form method="POST" action="{{ url_for('main.edit_profile') }}">
                {{ form.hidden_tag() }}
                <div class="field">
                    {{ form.first_name.label(class="label") }}
                    <div class="control">
                        {{ form.first_name(class="input") }}
                    </div>
                </div>
                <div class="field">
                    {{ form.last_name.label(class="label") }}
                    <div class="control">
                        {{ form.last_name(class="input") }}
                    </div>
                </div>
                <div class="field">
                    {{ form.email.label(class="label") }}
                    <div class="control">
                        {{ form.email(class="input") }}
                    </div>
                </div>
                <div class="field">
                    {{ form.age.label(class="label") }}
                    <div class="control">
                        {{ form.age(class="input") }}
                    </div>
                </div>
                <div class="field">
                    {{ form.password.label(class="label") }}
                    <div class="control">
                        {{ form.password(class="input") }}
                    </div>
                </div>
                <div class="field">
                    {{ form.password2.label(class="label") }}
                    <div class="control">
                        {{ form.password2(class="input") }}
                    </div>
                </div>
                <div class="control">
                    {{ form.submit(class="button is-link") }}
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
